/*!
 * name: @jswork/next-promise-compose
 * description: Promise compose for next.
 * homepage: https://js.work
 * version: 1.0.6
 * date: 2023-04-05 22:13:38
 * license: MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = void 0;
var _next = _interopRequireDefault(require('@jswork/next'));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}
//@thanks to: https://github.com/gr0uch/promise-compose/blob/master/index.js
//@thanks to: https://itnext.io/roll-your-own-async-compose-pipe-functions-658cafe4c46f
_next['default'].promiseCompose = function () {
  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {
    fns[_key] = arguments[_key];
  }
  return function (value) {
    var initial = Promise.resolve(value);
    try {
      return fns.reduce(function (chain, fn) {
        return chain.then(fn);
      }, initial);
    } catch (err) {
      return Promise.reject(err);
    }
  };
};
if (typeof module !== 'undefined' && module.exports) {
  module.exports = _next['default'].promiseCompose;
}
var _default = _next['default'].promiseCompose;
exports['default'] = _default;
