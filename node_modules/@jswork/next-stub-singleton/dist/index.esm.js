/*!
 * name: @jswork/next-stub-singleton
 * description: Stub code for singleton.
 * homepage: https://js.work
 * version: 1.0.6
 * date: 2023-03-31 14:59:12
 * license: MIT
 */

import nx from '@jswork/next';

nx.stubSingleton = function () {
  return {
    instance: null,
    getInstance: function () {
      var args = [null].concat(nx.slice(arguments));
      var Clazz = Function.prototype.bind.apply(this, args);
      return new Clazz();
    },
    getSingleton: function () {
      var args = [null].concat(nx.slice(arguments));
      if (!this.instance) {
        var Clazz = Function.prototype.bind.apply(this, args);
        this.instance = new Clazz();
      }
      return this.instance;
    }
  };
};

if (typeof module !== 'undefined' && module.exports) {
  module.exports = nx.stubSingleton;
}

export default nx.stubSingleton;
