{
  "version": 3,
  "sources": ["../src/middlewares/destroyable.ts"],
  "sourcesContent": ["import { MiddleWareFunction } from '../types';\n\nconst defaults = { destroyable: false };\n\nexport const middlewareDestroy: MiddleWareFunction = (inFetch) => (inUrl, inInit?) => {\n  const { destroyable, ...options } = { ...defaults, ...inInit };\n  if (!destroyable) return inFetch(inUrl, options);\n\n  const controller = new AbortController();\n  const signal = controller.signal;\n  const promise = inFetch(inUrl, { signal, ...options });\n\n  promise.destroy = () => {\n    controller.abort();\n  };\n\n  return promise;\n};\n"],
  "mappings": "AAEA,IAAMA,EAAW,CAAE,YAAa,EAAM,EAEzBC,EAAyCC,GAAY,CAACC,EAAOC,IAAY,CACpF,GAAM,CAAE,YAAAC,EAAa,GAAGC,CAAQ,EAAI,CAAE,GAAGN,EAAU,GAAGI,CAAO,EAC7D,GAAI,CAACC,EAAa,OAAOH,EAAQC,EAAOG,CAAO,EAE/C,IAAMC,EAAa,IAAI,gBACjBC,EAASD,EAAW,OACpBE,EAAUP,EAAQC,EAAO,CAAE,OAAAK,EAAQ,GAAGF,CAAQ,CAAC,EAErD,OAAAG,EAAQ,QAAU,IAAM,CACtBF,EAAW,MAAM,CACnB,EAEOE,CACT",
  "names": ["defaults", "middlewareDestroy", "inFetch", "inUrl", "inInit", "destroyable", "options", "controller", "signal", "promise"]
}
